

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Configuring The Controller &mdash; Navigation 2 0.2.3 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon-48x48.png"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'0.2.3',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Trajectory Generators" href="dwb-plugins/trajectory-generators.html" />
    <link rel="prev" title="Configuration Guidelines" href="index.html" />

<link rel="stylesheet" href="../../_static/tcs_theme.css" type="text/css" />


</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Navigation 2
          

          
            
            <img src="../../_static/logo_white_200w.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/index.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/index.html#running-the-example">Running the Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/index.html#navigating">Navigating</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">How-Tos</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../build_instructions/index.html">Build Instructions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../build_instructions/build_docs/manual_build/master_build.html">Build Navigation2 Master Branch</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../build_instructions/build_docs/manual_build/master_build.html#step-1-build-ros-2">Step 1- Build ROS 2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../build_instructions/build_docs/manual_build/master_build.html#step-2-build-navigation2-dependencies">Step 2- Build Navigation2 Dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../build_instructions/build_docs/manual_build/master_build.html#step-3-build-navigation2">Step 3- Build Navigation2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../build_instructions/build_docs/manual_build/specific_distro_build.html">Build Navigation2 for a Specific Distribution</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../build_instructions/build_docs/manual_build/specific_distro_build.html#step-1-build-ros-2">Step 1- Build ROS 2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../build_instructions/build_docs/manual_build/specific_distro_build.html#step-2-build-navigation2-dependencies">Step 2- Build Navigation2 Dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../build_instructions/build_docs/manual_build/specific_distro_build.html#step-3-build-navigation2">Step 3- Build Navigation2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../build_instructions/build_docs/quick_start.html">Quickstart Using the Initial Setup Script</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../build_instructions/build_docs/quick_start.html#steps">Steps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../build_instructions/build_docs/quick_start.html#options">Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../build_instructions/build_docs/use_case_recommendations.html">Use Case Recommendations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../build_instructions/build_docs/use_case_recommendations.html#developer">Developer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../build_instructions/build_docs/use_case_recommendations.html#debugging">Debugging</a></li>
<li class="toctree-l4"><a class="reference internal" href="../build_instructions/build_docs/use_case_recommendations.html#build-system">Build System</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../build_instructions/build_docs/build_troubleshooting_guide.html">Build Troubleshooting Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../build_instructions/build_docs/build_troubleshooting_guide.html#common-navigation2-dependencies-build-failures">Common Navigation2 Dependencies Build Failures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../build_instructions/build_docs/build_troubleshooting_guide.html#reporting-issue">Reporting Issue</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../docs/index.html">Documentation How-Tos</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../docs/index.html#build-guide">Build Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../docs/process/docbuild.html">Build the template locally</a></li>
<li class="toctree-l4"><a class="reference internal" href="../docs/process/docker-build.html">Use Docker to build this Sphinx project</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../docs/index.html#technical-guides">Technical Guides</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../docs/tech/GeneratedImagesExamples.html">Examples of Generated Images</a></li>
<li class="toctree-l4"><a class="reference internal" href="../docs/tech/important-sphinx-files.html">Important Sphinx files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../docs/tech/pandocs-conversion.html">Pandocs Conversion Tutorial</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Configuration Guidelines</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Configuring The Controller</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#controller-server">Controller Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="#progress-checker">Progress Checker</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dwb-controller">DWB Controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="#debug-parameters">Debug Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dwb-plugins">DWB Plugins</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="params/tunable-params.html">Tunable Parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="params/tunable-params.html#amcl">AMCL</a></li>
<li class="toctree-l4"><a class="reference internal" href="params/tunable-params.html#controller-server">Controller Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="params/tunable-params.html#local-costmap">Local Costmap</a></li>
<li class="toctree-l4"><a class="reference internal" href="params/tunable-params.html#planner-server">Planner Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="params/tunable-params.html#global-costmap">Global Costmap</a></li>
<li class="toctree-l4"><a class="reference internal" href="params/tunable-params.html#map-server">Map Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="params/tunable-params.html#recovery-server">Recovery Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="params/tunable-params.html#bt-navigator">BT Navigator</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/docs/navigation2_with_turtlebot3_in_gazebo.html">Navigation2 with Turtlebot 3 in Gazebo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_with_turtlebot3_in_gazebo.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_with_turtlebot3_in_gazebo.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_with_turtlebot3_in_gazebo.html#tutorial-steps">Tutorial Steps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_turtlebot3_in_gazebo.html#setup-your-environment-variables">0- Setup Your Environment Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_turtlebot3_in_gazebo.html#short-cut">Short-cut</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_turtlebot3_in_gazebo.html#launch-gazebo">1- Launch Gazebo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_turtlebot3_in_gazebo.html#launch-turtlebot-3-robot-state-publisher">2- Launch Turtlebot 3 Robot State Publisher</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_turtlebot3_in_gazebo.html#launch-navigation2">3- Launch Navigation2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_turtlebot3_in_gazebo.html#launch-rviz">4-  Launch RViz</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_turtlebot3_in_gazebo.html#initialize-the-location-of-turtlebot-3">5- Initialize the location of Turtlebot 3</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_turtlebot3_in_gazebo.html#send-a-goal-pose">6-  Send a Goal Pose</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_turtlebot3_in_gazebo.html#next-tutorial">Next Tutorial</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_turtlebot3_in_gazebo.html#videos">Videos</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html">Navigation2 on a Physical Turtlebot 3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html#tutorial-steps">Tutorial Steps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html#setup-your-enviroment-variables">0- Setup Your Enviroment Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html#launch-turtlebot-3-robot-state-publisher">1- Launch Turtlebot 3 Robot State Publisher</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html#launch-navigation2">2- Launch Navigation2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html#launch-rviz">3-  Launch RVIZ</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html#initialize-the-location-of-turtlebot-3">4- Initialize the Location of Turtlebot 3</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html#send-a-goal-pose">5-  Send a Goal Pose</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html#videos">Videos</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/docs/navigation2_with_stvl.html">Navigation2 With External Costmap Plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_with_stvl.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_with_stvl.html#costmap2d-and-stvl">Costmap2D and STVL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_with_stvl.html#tutorial-steps">Tutorial Steps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_stvl.html#setup">0- Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_stvl.html#install-stvl">1- Install STVL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_stvl.html#modify-navigation2-parameter">1- Modify Navigation2 Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_stvl.html#launch-navigation2">2- Launch Navigation2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_stvl.html#rviz">3-  RVIZ</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_stvl.html#video">Video</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contributing to the Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contribute/contribute_guidelines.html">Contribution Guidelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/contribute_guidelines.html#licensing">Licensing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/contribute_guidelines.html#developer-certification-of-origin-dco">Developer Certification of Origin (DCO)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../contribute/contribute_guidelines.html#dco-sign-off-methods">DCO Sign-Off Methods</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/contribute_guidelines.html#prerequisites">Prerequisites</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute/doc_guidelines.html">Documentation Guidelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#headings">Headings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../contribute/doc_guidelines.html#this-is-a-collapsible-section">This is a collapsible section</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#content-highlighting">Content Highlighting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#lists">Lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#multi-column-lists">Multi-column lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#file-names-and-commands">File names and Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#internal-cross-reference-linking">Internal Cross-Reference Linking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#non-ascii-characters">Non-ASCII Characters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#code-and-command-examples">Code and Command Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#tabs-spaces-and-indenting">Tabs, spaces, and indenting</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Navigation 2</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">How-Tos</a> &raquo;</li>
        
          <li><a href="index.html">Configuration Guidelines</a> &raquo;</li>
        
      <li>Configuring The Controller</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="configuring-the-controller">
<span id="id1"></span><h1>Configuring The Controller<a class="headerlink" href="#configuring-the-controller" title="Permalink to this headline">¶</a></h1>
<div class="section" id="controller-server">
<h2>Controller Server<a class="headerlink" href="#controller-server" title="Permalink to this headline">¶</a></h2>
<p>The controller server responds to FollowPath action requests. It runs a loop
that continuously computes new command velocities until the goal is reached,
cancelled or an error occurs. It computes command velocities by using the
services of a controller plugin. The parameters in this section are set on the
controller_server node</p>
<div class="section" id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">controller_frequency:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><table border="1" class="first docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>type</strong></td>
<td>double</td>
</tr>
<tr class="row-even"><td><strong>default</strong></td>
<td>20.0</td>
</tr>
<tr class="row-odd"><td><strong>units</strong></td>
<td>Hz</td>
</tr>
<tr class="row-even"><td><strong>description</strong></td>
<td>This parameter controls how often a new command velocity is
published. It also controls how often the controller checks if the goal is
reached. Faster robots may need to increase this value. Slower robots can
use a lower value.</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">controller_plugin_ids:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><table border="1" class="first docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>type</strong></td>
<td>vector&lt;string&gt;</td>
</tr>
<tr class="row-even"><td><strong>default</strong></td>
<td>“FollowPath”</td>
</tr>
<tr class="row-odd"><td><strong>description</strong></td>
<td>The name of each controller plugin to be loaded into the controller server.
Multiple controller plugins can be loaded simultaneously so they can share
a costmap instance. The name assigned to the plugin using this parameter
determines how it should be addressed in the <em>controller_id</em> field of the
FollowPath action request.</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">controller_plugin_types:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><table border="1" class="first last docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>type</strong></td>
<td>vector&lt;string&gt;</td>
</tr>
<tr class="row-even"><td><strong>default</strong></td>
<td>“dwb_core::DWBLocalPlanner”</td>
</tr>
<tr class="row-odd"><td><strong>description</strong></td>
<td>The data type of each controller plugin to be loaded into the controller
server. This is used by pluginlib to dyanmically load the object. This
needs to be a class derived from nav2_core::LocalPlanner. The default
controller is an instance of DWB whose parameters are here
<a class="reference internal" href="#dwb-controller">DWB Controller</a></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="progress-checker">
<h2>Progress Checker<a class="headerlink" href="#progress-checker" title="Permalink to this headline">¶</a></h2>
<p>This is a component of the controller server that verifies that the robot has moved sufficiently.
If the robot fails to make progress, the controller fails and triggers recoveries in the
behavior tree. The parameters in this section are set on the controller_server node.</p>
<div class="section" id="id2">
<h3>Parameters<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">required_movement_radius:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><table border="1" class="first docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>type</strong></td>
<td>double</td>
</tr>
<tr class="row-even"><td><strong>default</strong></td>
<td>0.5</td>
</tr>
<tr class="row-odd"><td><strong>units</strong></td>
<td>m</td>
</tr>
<tr class="row-even"><td><strong>description</strong></td>
<td>The absolute distance the robot must move from the previous checkpoint. If
the robot doesn’t move this far in <em>movement_time_allowance</em> seconds, an
error is thrown. Once the robot moves this distance the time is reset</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">movement_time_allowance:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><table border="1" class="first last docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>type</strong></td>
<td>double</td>
</tr>
<tr class="row-even"><td><strong>default</strong></td>
<td>10.0</td>
</tr>
<tr class="row-odd"><td><strong>units</strong></td>
<td>s</td>
</tr>
<tr class="row-even"><td><strong>description</strong></td>
<td>Controls how much time the robot has time to show progress. If the robot
fails to move more than <em>required_movement_radius</em> meters in this time, an
error is thrown. For slow robots, this time should be extended. Reducing
this time will cause the robot to recover more quickly if it is stuck,
but too little time doesn’t give the robot enough time to manoeuver in
dyanamic enviroments</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="dwb-controller">
<h2>DWB Controller<a class="headerlink" href="#dwb-controller" title="Permalink to this headline">¶</a></h2>
<p>The DWB controller is the default controller in Navigation 2. It is a fork of <a class="reference external" href="https://github.com/locusrobotics/robot_navigation/tree/master/dwb_local_planner">David Lu’s
controller</a>
modified for ROS 2.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The parameters below are not properly scoped. The exact parameter names are
likely to change in the near future</p>
</div>
<div class="section" id="id3">
<h3>Parameters<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">trajectory_generator_name:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><table border="1" class="first docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>type</strong></td>
<td>string</td>
</tr>
<tr class="row-even"><td><strong>default</strong></td>
<td>“dwb_plugins::StandardTrajectoryGenerator”</td>
</tr>
<tr class="row-odd"><td><strong>description</strong></td>
<td><p class="first">This is the name of the pluginlib class to use as the trajectory generator.
The trajectory generator projects a sample of possible trajectories the
robot can follow from its current pose and velocity. These trajectories
are then provided to the critics to score.</p>
<p>You can create a custom trajectory generator by inheriting from the
dwb_core::TrajectoryGenerator base class</p>
<p>The trajectory generators provided with Navigation 2 are:</p>
<ul class="last simple">
<li>dwb_plugins::StandardTrajectoryGenerator</li>
<li>dwb_plugins::LimitedAccelGenerator</li>
</ul>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field-even field"><th class="field-name">critics:</th><td class="field-body"><table border="1" class="first docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>type</strong></td>
<td>vector&lt;string&gt;</td>
</tr>
<tr class="row-even"><td><strong>default</strong></td>
<td>[“RotateToGoal”, “Oscillation”, “ObstacleFootprint”, “GoalAlign”,
“PathAlign”, “PathDist”, “GoalDist”]</td>
</tr>
<tr class="row-odd"><td><strong>description</strong></td>
<td><p class="first">This is a list of critic plugins that will evaluate the trajectories
generated by the trajectory generator. Each critic evaluates the
trajectories according to its own criteria. The scores from each critic
will be combined, and the trajectory with the best score will be chosen. By
weighting the different critics appropriately, the quality of the chosen
trajectory can be modified.</p>
<p>You can create a custom critic by inheriting from the
dwb_core::TrajectoryCritic base class</p>
<p>The critics provided with Navigation 2 are:</p>
<ul class="last simple">
<li>dwb_critics::PreferForwardCritic</li>
<li>dwb_critics::GoalDistCritic</li>
<li>dwb_critics::PathAlignCritic</li>
<li>dwb_critics::GoalAlignCritic</li>
<li>dwb_critics::PathDistCritic</li>
<li>dwb_critics::OscillationCritic</li>
<li>dwb_critics::RotateToGoalCritic</li>
<li>dwb_critics::BaseObstacleCritic</li>
<li>dwb_critics::ObstacleFootprintCritic</li>
<li>dwb_critics::TwirlingCritic</li>
</ul>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">goal_checker_name:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><table border="1" class="first last docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>type</strong></td>
<td>string</td>
</tr>
<tr class="row-even"><td><strong>default</strong></td>
<td>“dwb_plugins::SimpleGoalChecker”</td>
</tr>
<tr class="row-odd"><td><strong>description</strong></td>
<td><p class="first">This is the plugin that evaluates the current pose and velocity to
determine if the goal has been reached</p>
<p>You can create a custom goal checker by inheriting from the
nav2_core::GoalChecker base class</p>
<p>The critics provided with Navigation 2 are:</p>
<ul class="last simple">
<li>dwb_plugins::SimpleGoalChecker</li>
<li>dwb_plugins::StoppedGoalChecker</li>
</ul>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
<div class="content-collapse section" id="additional-parameters">
<h3>Additional Parameters<a class="headerlink" href="#additional-parameters" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">prune_plan:</th><td class="field-body"><table border="1" class="first docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>type</strong></td>
<td>bool</td>
</tr>
<tr class="row-even"><td><strong>default</strong></td>
<td>true</td>
</tr>
<tr class="row-odd"><td><strong>description</strong></td>
<td>If true, the path evaluated by the controller is trimmed to only include
points within <em>prune_distance</em> of the current robot pose. This improves CPU
performance, and also has the effect of making the Goal* critics aim for a
more nearby goal</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field-even field"><th class="field-name">prune_distance:</th><td class="field-body"><table border="1" class="first docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>type</strong></td>
<td>double</td>
</tr>
<tr class="row-even"><td><strong>default</strong></td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td><strong>units</strong></td>
<td>m</td>
</tr>
<tr class="row-even"><td><strong>description</strong></td>
<td>If <em>prune_plan</em> is true, all points in the path that are further away from
the robot than this distance are discarded.
This is re-evaluated each time the controller is run, so the points are not
permanently discared.</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">transform_tolerance:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><table border="1" class="first last docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>type</strong></td>
<td>double</td>
</tr>
<tr class="row-even"><td><strong>default</strong></td>
<td>0.1</td>
</tr>
<tr class="row-odd"><td><strong>units</strong></td>
<td>s</td>
</tr>
<tr class="row-even"><td><strong>description</strong></td>
<td>When determining the current robot pose, if the transform data is older
than this, an error is returned</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="debug-parameters">
<h2>Debug Parameters<a class="headerlink" href="#debug-parameters" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">debug_trajectory_details:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><table border="1" class="first docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>type</strong></td>
<td>bool</td>
</tr>
<tr class="row-even"><td><strong>default</strong></td>
<td>false</td>
</tr>
<tr class="row-odd"><td><strong>description</strong></td>
<td>If true and if all trajectories are rejected by the critics, DWB will print
statistics on the console indicating which critics rejected the
trajectories and for what reason.</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">publish_cost_grid_pc:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><table border="1" class="first docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>type</strong></td>
<td>bool</td>
</tr>
<tr class="row-even"><td><strong>default</strong></td>
<td>false</td>
</tr>
<tr class="row-odd"><td><strong>description</strong></td>
<td><p class="first">Certain trajectory critics compute scores based on location in the costmap.
For those critics, if this parameter is true, DWB will publish a PointCloud
on the <strong>cost_cloud</strong> topic showing that critic’s score for each cell. This
can be visualized in RViz.</p>
<p>The standard critics provided with Navigation 2 that provide this capability are:</p>
<ul class="last simple">
<li>dwb_critics::GoalDistCritic</li>
<li>dwb_critics::PathAlignCritic</li>
<li>dwb_critics::GoalAlignCritic</li>
<li>dwb_critics::PathDistCritic</li>
<li>dwb_critics::BaseObstacleCritic</li>
<li>dwb_critics::ObstacleFootprintCritic</li>
</ul>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">publish_evaluation:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><table border="1" class="first docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>type</strong></td>
<td>bool</td>
</tr>
<tr class="row-even"><td><strong>default</strong></td>
<td>true</td>
</tr>
<tr class="row-odd"><td><strong>description</strong></td>
<td>If true, publishes all evaluated trajectories and the scores each critic
assigned them. This is the most detailed information on what is going on in
DWB, but can be hard to visualize. The data is published on the
<strong>evaluation</strong> topic</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">publish_global_plan:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><table border="1" class="first docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>type</strong></td>
<td>bool</td>
</tr>
<tr class="row-even"><td><strong>default</strong></td>
<td>true</td>
</tr>
<tr class="row-odd"><td><strong>description</strong></td>
<td>If true, publishes the path recieved by the controller. This is published
on the <strong>received_global_plan</strong> topic and can be visualized in RViz</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">publish_local_plan:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><table border="1" class="first docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>type</strong></td>
<td>bool</td>
</tr>
<tr class="row-even"><td><strong>default</strong></td>
<td>true</td>
</tr>
<tr class="row-odd"><td><strong>description</strong></td>
<td>If true, published the chosen trajectory on the <strong>local_plan</strong> topic. This
can be visualized in RViz.</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">publish_trajectories:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><table border="1" class="first docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>type</strong></td>
<td>bool</td>
</tr>
<tr class="row-even"><td><strong>default</strong></td>
<td>true</td>
</tr>
<tr class="row-odd"><td><strong>description</strong></td>
<td>If true, all evaluated trajectories are published on the <strong>marker</strong> topic.
The trajectories can be visualized in RViz and are color coded. Black means
a critic rejected that particular trajectory as invalid. The remaining
trajectories are scaled from red to green, with the best trajectories being
the most green and the worst being the most red.</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line">|                                                                            |</div>
</div>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">publish_transformed_plan:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><table border="1" class="first last docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>type</strong></td>
<td>bool</td>
</tr>
<tr class="row-even"><td><strong>default</strong></td>
<td>true</td>
</tr>
<tr class="row-odd"><td><strong>description</strong></td>
<td>If true, publishes the received path after it has been transformed into the
local frame of reference. This is published on the
<strong>transformed_global_plan</strong> topic and can be visualized in RViz</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="dwb-plugins">
<h2>DWB Plugins<a class="headerlink" href="#dwb-plugins" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="dwb-plugins/trajectory-generators.html">Trajectory Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="dwb-plugins/trajectory-critics.html">Trajectory Critics</a></li>
<li class="toctree-l1"><a class="reference internal" href="dwb-plugins/goal-checkers.html">Goal Checkers</a></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019
      <span class="lastupdated">
        Last updated on Feb 07, 2020.
      </span>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  

<script type="text/javascript" src="../../_static/tcs_theme.js"></script>



</body>
</html>